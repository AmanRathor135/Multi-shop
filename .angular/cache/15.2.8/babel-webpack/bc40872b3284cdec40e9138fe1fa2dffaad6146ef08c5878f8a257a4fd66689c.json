{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/Shop/Shop-details\", a1];\n};\nconst _c1 = function (a0, a1) {\n  return {\n    far: a0,\n    fa: a1\n  };\n};\nfunction WishlistComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"div\", 7);\n    i0.ɵɵelement(4, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 9)(6, \"a\", 10);\n    i0.ɵɵelement(7, \"i\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_div_1_div_1_Template_a_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.remove(i_r4));\n    });\n    i0.ɵɵelement(9, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"a\", 14);\n    i0.ɵɵelement(11, \"i\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 10);\n    i0.ɵɵelement(13, \"i\", 16);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 17)(15, \"div\", 18)(16, \"a\", 19);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 20)(19, \"h5\");\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"h6\", 21)(23, \"del\");\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://192.168.1.178:1108\", product_r3.image, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, product_r3.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(16, _c1, !product_r3.isShow, product_r3.isShow));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(19, _c0, product_r3.id));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(21, _c0, product_r3.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r3.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(21, 8, product_r3.price * ctx_r2.currencyPrice, ctx_r2.currency));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(25, 11, product_r3.price * ctx_r2.currencyPrice, ctx_r2.currency));\n  }\n}\nfunction WishlistComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, WishlistComponent_div_1_div_1_Template, 26, 23, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.wishlist);\n  }\n}\nconst _c2 = function () {\n  return [\"/Shop/shop\"];\n};\nfunction WishlistComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 22);\n    i0.ɵɵtext(2, \" You Don't Have any Wishlist....... \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 23)(4, \"button\", 24);\n    i0.ɵɵtext(5, \" Go To Shop \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nexport class WishlistComponent {\n  constructor(service, toastr) {\n    this.service = service;\n    this.toastr = toastr;\n    this.wishlist = [];\n    this.subscription = [];\n    service.Breadcrumb.next([{\n      pageTitle: 'Home',\n      url: ''\n    }, {\n      pageTitle: 'Wishlist',\n      url: 'wishlist'\n    }]);\n  }\n  ngOnInit() {\n    let list = localStorage.getItem('favoriteItemList');\n    this.wishlist = JSON.parse(list);\n    this.service.totalFavoriteItems.next(this.wishlist.length);\n    let sub1 = this.service.currency.subscribe(res => {\n      if (res) {\n        this.currency = res;\n        this.getPrice();\n      }\n    });\n    this.subscription.push(sub1);\n  }\n  getPrice() {\n    let value = localStorage.getItem('currencyPrice');\n    value = JSON.parse(value);\n    this.currencyPrice = value[this.currency];\n  }\n  remove(index) {\n    const result = confirm('Do You Want to Remove this Item from Wishlist?');\n    if (result) {\n      if (this.wishlist.length) {\n        this.wishlist.splice(index, 1);\n        localStorage.setItem('favoriteItemList', JSON.stringify(this.wishlist));\n        this.service.totalFavoriteItems.next(this.wishlist.length);\n        this.toastr.info(\"Item Removed from Wishlist Successfully!\");\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.subscription.forEach(subscriptionRow => {\n      subscriptionRow.unsubscribe();\n    });\n  }\n}\nWishlistComponent.ɵfac = function WishlistComponent_Factory(t) {\n  return new (t || WishlistComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ToastrService));\n};\nWishlistComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WishlistComponent,\n  selectors: [[\"app-wishlist\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[1, \"container-fluid\"], [\"class\", \"row px-5 d-flex align-items-center\", 4, \"ngIf\"], [1, \"row\", \"px-5\", \"d-flex\", \"align-items-center\"], [\"class\", \"col-lg-3 col-md-6 col-sm-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-3\", \"col-md-6\", \"col-sm-6\"], [1, \"product-item\", \"bg-light\", \"mb-4\"], [1, \"product-img\", \"position-relative\", \"overflow-hidden\", 2, \"cursor\", \"pointer\"], [2, \"width\", \"100%\"], [\"alt\", \"...\", 1, \"img-fluid\", \"w-100\", \"p-3\", 2, \"width\", \"100% !important\", \"height\", \"400px\", 3, \"src\"], [1, \"product-action\"], [1, \"btn\", \"btn-outline-dark\", \"btn-square\", 3, \"routerLink\"], [1, \"fa\", \"fa-shopping-cart\", 2, \"color\", \"rgb(64, 241, 64)\"], [1, \"btn\", \"btn-outline-dark\", \"btn-square\", 3, \"click\"], [1, \"fa-heart\", 3, \"ngClass\"], [1, \"btn\", \"btn-outline-dark\", \"btn-square\"], [1, \"fa\", \"fa-sync-alt\", 2, \"color\", \"orangered\"], [1, \"fa\", \"fa-search\"], [1, \"text-center\"], [2, \"min-height\", \"60px\"], [1, \"h6\", \"text-decoration-none\", 3, \"routerLink\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\", \"mt-2\"], [1, \"text-muted\", \"ml-2\"], [1, \"text-center\", \"fs-3\", \"fw-bold\", \"mt-4\", 2, \"color\", \"black\", \"font-style\", \"italic\"], [1, \"text-center\", \"mt-3\"], [1, \"btn\", \"btn-success\", \"font-weight-bold\", \"py-2\", 3, \"routerLink\"]],\n  template: function WishlistComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, WishlistComponent_div_1_Template, 2, 1, \"div\", 1);\n      i0.ɵɵtemplate(2, WishlistComponent_div_2_Template, 6, 2, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.wishlist.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.wishlist.length);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","WishlistComponent","constructor","service","toastr","Breadcrumb","next","pageTitle","url","ngOnInit","list","localStorage","getItem","wishlist","JSON","parse","totalFavoriteItems","length","sub1","currency","subscribe","res","getPrice","subscription","push","value","currencyPrice","remove","index","result","confirm","splice","setItem","stringify","info","ngOnDestroy","forEach","subscriptionRow","unsubscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/aman.rathor/Multi-shop/src/app/layout/wishlist/wishlist.component.html","/home/aman.rathor/Multi-shop/src/app/layout/wishlist/wishlist.component.ts"],"sourcesContent":["<div class=\"container-fluid\">\n  <div class=\"row px-5 d-flex align-items-center\" *ngIf=\"wishlist.length\">\n    <div\n      class=\"col-lg-3 col-md-6 col-sm-6\"\n      *ngFor=\"let product of wishlist; let i = index\"\n    >\n      <div class=\"product-item bg-light mb-4\">\n        <div\n          class=\"product-img position-relative overflow-hidden\"\n          style=\"cursor: pointer\"\n        >\n          <div style=\"width: 100%\">\n            <img\n              class=\"img-fluid w-100 p-3\"\n              src=\"http://192.168.1.178:1108{{ product.image }}\"\n              alt=\"...\"\n              style=\"width: 100% !important; height: 400px\"\n            />\n          </div>\n          <div class=\"product-action\">\n            <!-- <a class=\"btn btn-outline-dark btn-square\" (click)=\"remove(i)\">\n              <i class=\"fa fa-trash\" style=\"color: red\"></i>\n            </a> -->\n            <a class=\"btn btn-outline-dark btn-square\" [routerLink]=\"['/Shop/Shop-details', product.id]\" >\n              <i class=\"fa fa-shopping-cart\" style=\"color: rgb(64, 241, 64);\"></i>\n            </a>\n            <a class=\"btn btn-outline-dark btn-square\" (click)=\"remove(i)\">\n              <i [ngClass]=\"{ far: !product.isShow, fa: product.isShow }\" class=\"fa-heart\"></i>\n            </a>\n            <a class=\"btn btn-outline-dark btn-square\">\n              <i class=\"fa fa-sync-alt\" style=\"color: orangered\"></i>\n            </a>\n            <a class=\"btn btn-outline-dark btn-square\" [routerLink]=\"['/Shop/Shop-details', product.id]\" >\n              <i class=\"fa fa-search\"></i>\n            </a>\n          </div>\n        </div>\n        <div class=\"text-center\">\n          <div style=\"min-height: 60px\">\n            <a\n              class=\"h6 text-decoration-none\"\n              [routerLink]=\"['/Shop/Shop-details', product.id]\"\n              >{{ product.title }}</a\n            >\n          </div>\n          <div class=\"d-flex align-items-center justify-content-center mt-2\">\n            <h5>{{ product.price * currencyPrice | currency : currency }}</h5>\n            <h6 class=\"text-muted ml-2\">\n              <del>{{ product.price * currencyPrice | currency : currency }}</del>\n            </h6>\n          </div>\n          <!-- <div class=\"d-flex align-items-center justify-content-center mb-1\">\n                  <ng-container *ngFor=\"let rate of totalRate; let i = index\">\n                    <ng-container *ngIf=\"i < math.floor(product.rating.rate)\">\n                      <small class=\"fa fa-star text-primary mr-1\"></small>\n                    </ng-container>\n                    <ng-container *ngIf=\"i == math.floor(product.rating.rate)\">\n                      <small class=\"fa fa-star-half-alt text-primary mr-1\"></small>\n                    </ng-container>\n                    <ng-container *ngIf=\"i > product.rating.rate\">\n                      <small class=\"far fa-star text-primary mr-1\"></small>\n                    </ng-container>\n                  </ng-container>\n                  <small>(The Rating is {{ product.rating.rate }} Out of {{ product.rating.count }} Reviews)</small>\n                </div> -->\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row px-5 d-flex align-items-center\" *ngIf=\"!wishlist.length\">\n    <div\n      class=\"text-center fs-3 fw-bold mt-4\"\n      style=\"color: black; font-style: italic\"\n    >\n      You Don't Have any Wishlist.......\n    </div>\n    <div class=\"text-center mt-3\">\n      <button class=\"btn btn-success font-weight-bold py-2\" [routerLink]=\"['/Shop/shop']\">\n        Go To Shop\n      </button>\n    </div>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subscription } from 'rxjs';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-wishlist',\n  templateUrl: './wishlist.component.html',\n  styleUrls: ['./wishlist.component.scss'],\n})\nexport class WishlistComponent implements OnInit, OnDestroy {\n  wishlist: any[] = [];\n  subscription:Subscription[] = [];\n  currency: any;\n  currencyPrice:any;\n  constructor(private service: ProductService, private toastr:ToastrService) {\n    service.Breadcrumb.next([\n      {\n        pageTitle: 'Home',\n        url: '',\n      },\n      {\n        pageTitle: 'Wishlist',\n        url: 'wishlist',\n      },\n    ]);\n  }\n  ngOnInit(): void {\n    let list: any = localStorage.getItem('favoriteItemList');\n    this.wishlist = JSON.parse(list);\n    this.service.totalFavoriteItems.next(this.wishlist.length);\n\n    let sub1 = this.service.currency.subscribe((res: any) => {\n      if (res) {\n        this.currency = res;\n        this.getPrice();\n      }\n    });\n    this.subscription.push(sub1);\n  }\n\n  getPrice(){\n    let value:any = localStorage.getItem('currencyPrice');\n    value = JSON.parse(value);\n    this.currencyPrice = value[this.currency];\n  }\n\n  remove(index: any) {\n    const result = confirm('Do You Want to Remove this Item from Wishlist?');\n    if (result) {\n      if (this.wishlist.length) {\n        this.wishlist.splice(index, 1);\n        localStorage.setItem('favoriteItemList', JSON.stringify(this.wishlist));\n        this.service.totalFavoriteItems.next(this.wishlist.length);\n        this.toastr.info(\"Item Removed from Wishlist Successfully!\");\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.forEach((subscriptionRow:any) => {\n      subscriptionRow.unsubscribe();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}