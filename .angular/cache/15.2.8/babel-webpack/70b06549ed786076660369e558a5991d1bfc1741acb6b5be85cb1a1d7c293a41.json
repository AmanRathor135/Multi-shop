{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = function () {\n  return [\"/Shop/shop\"];\n};\nfunction MyCartComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵelement(1, \"i\", 11);\n    i0.ɵɵtext(2, \" Add More Products \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction MyCartComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵelement(1, \"i\", 11);\n    i0.ɵɵtext(2, \" Add Products \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction MyCartComponent_tbody_18_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 12);\n    i0.ɵɵelement(2, \"img\", 14);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 12);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 12)(10, \"div\", 12);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\", 12);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 12)(16, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function MyCartComponent_tbody_18_tr_1_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removeRow(i_r7));\n    });\n    i0.ɵɵelement(17, \"i\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://192.168.1.178:1108\", item_r6.image, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r6.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 6, item_r6.price * ctx_r5.currencyPrice, ctx_r5.currency));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r6.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 9, item_r6.price * item_r6.quantity * ctx_r5.currencyPrice, ctx_r5.currency));\n  }\n}\nfunction MyCartComponent_tbody_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 12);\n    i0.ɵɵtemplate(1, MyCartComponent_tbody_18_tr_1_Template, 18, 12, \"tr\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.cartProduct);\n  }\n}\nconst _c1 = function () {\n  return [\"/Shop/shop/\"];\n};\nfunction MyCartComponent_tbody_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 17);\n    i0.ɵɵtext(3, \"You Haven't Purchase any Cart Right Now...\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nconst _c2 = function () {\n  return [\"/cart-detail/checkout\"];\n};\nfunction MyCartComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"form\", 19)(2, \"div\", 20);\n    i0.ɵɵelement(3, \"input\", 21);\n    i0.ɵɵelementStart(4, \"div\", 22)(5, \"button\", 23);\n    i0.ɵɵtext(6, \"Apply Coupon\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(7, \"h5\", 24)(8, \"span\", 25);\n    i0.ɵɵtext(9, \"Cart Summary\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 26)(11, \"div\", 27)(12, \"div\", 28)(13, \"h6\");\n    i0.ɵɵtext(14, \"Subtotal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"h6\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 29)(19, \"h6\", 30);\n    i0.ɵɵtext(20, \"Shipping\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"h6\", 30);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 31)(25, \"div\", 32)(26, \"h5\");\n    i0.ɵɵtext(27, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"h5\");\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"button\", 33);\n    i0.ɵɵtext(32, \"Proceed To Checkout\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 4, ctx_r4.totalAmount * ctx_r4.currencyPrice, ctx_r4.currency));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 7, ctx_r4.taxAmount * ctx_r4.currencyPrice, ctx_r4.currency));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(30, 10, (ctx_r4.totalAmount + ctx_r4.taxAmount) * ctx_r4.currencyPrice, ctx_r4.currency));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c2));\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"col-lg-12\": a0\n  };\n};\nexport class MyCartComponent {\n  constructor(service, router, cdr, toastr) {\n    this.service = service;\n    this.router = router;\n    this.cdr = cdr;\n    this.toastr = toastr;\n    this.totalAmount = 0;\n    this.taxAmount = 10;\n    this.cartProduct = [];\n    let list = localStorage.getItem('favoriteItemList');\n    this.favItemLength = JSON.parse(list);\n    this.service.totalFavoriteItems.next(this.favItemLength.length);\n    service.Breadcrumb.next([{\n      pageTitle: 'Home',\n      url: ''\n    }, {\n      pageTitle: 'Shop',\n      url: 'Shop/shop'\n    }, {\n      pageTitle: 'Shopping Cart',\n      url: 'cart-detail/my-cart'\n    }]);\n  }\n  ngOnInit() {\n    this.currencyValue();\n    this.service.totalCartItems.next(true);\n    this.service.currency.subscribe(res => {\n      if (res) {\n        this.currency = res;\n        this.getPrice();\n        this.cdr.markForCheck();\n      }\n    });\n    const getSelectedItem = localStorage.getItem('addCartItem') || '[]';\n    this.cartProduct = JSON.parse(getSelectedItem);\n    this.service.totalCartItems.next(true);\n    this.totalPrice();\n  }\n  currencyValue() {\n    this.service.getCurrencyPrice().subscribe({\n      next: res => {\n        localStorage.setItem('currencyPrice', JSON.stringify(res.data));\n      }\n    });\n  }\n  getPrice() {\n    let value = localStorage.getItem('currencyPrice');\n    value = JSON.parse(value);\n    this.currencyPrice = value[this.currency];\n  }\n  totalPrice() {\n    for (let i = 0; i < this.cartProduct.length; i++) {\n      this.totalAmount += this.cartProduct[i].price * this.cartProduct[i].quantity;\n      this.cdr.markForCheck();\n    }\n  }\n  removeRow(index) {\n    const result = confirm('Do You Want to Remove this Item?');\n    if (result) {\n      if (this.cartProduct.length) {\n        this.cartProduct.splice(index, 1);\n        localStorage.setItem('addCartItem', JSON.stringify(this.cartProduct));\n        this.service.totalCartItems.next(true);\n        this.toastr.error('Item Deleted Successfully!');\n        this.router.navigateByUrl('/', {\n          skipLocationChange: true\n        }).then(() => {\n          this.router.navigate(['cart-detail/my-cart']); // navigate to same route\n        });\n\n        this.cdr.markForCheck();\n      }\n    }\n  }\n}\nMyCartComponent.ɵfac = function MyCartComponent_Factory(t) {\n  return new (t || MyCartComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\nMyCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MyCartComponent,\n  selectors: [[\"app-my-cart\"]],\n  decls: 21,\n  vars: 8,\n  consts: [[1, \"container-fluid\"], [1, \"row\", \"px-xl-5\"], [1, \"col-lg-8\", \"table-responsive\", \"mb-5\", 3, \"ngClass\"], [\"class\", \"btn btn-success px-3 mb-3\", \"style\", \"float: right;\", 3, \"routerLink\", 4, \"ngIf\"], [1, \"table\", \"table-light\", \"table-borderless\", \"table-hover\", \"text-center\", \"mb-0\"], [1, \"thead-dark\"], [\"colspan\", \"2\"], [\"class\", \"align-middle\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"col-lg-4\", 4, \"ngIf\"], [1, \"btn\", \"btn-success\", \"px-3\", \"mb-3\", 2, \"float\", \"right\", 3, \"routerLink\"], [1, \"fas\", \"fa-cart-plus\", \"mr-1\"], [1, \"align-middle\"], [4, \"ngFor\", \"ngForOf\"], [\"alt\", \"\", 2, \"width\", \"70px\", 3, \"src\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [1, \"fa\", \"fa-times\"], [\"colspan\", \"6\", 1, \"addMore\", 3, \"routerLink\"], [1, \"col-lg-4\"], [\"action\", \"\", 1, \"mb-30\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Coupon Code\", 1, \"form-control\", \"border-0\", \"p-4\"], [1, \"input-group-append\"], [1, \"btn\", \"btn-primary\"], [1, \"section-title\", \"position-relative\", \"text-uppercase\", \"mb-3\"], [1, \"bg-secondary\", \"pr-3\"], [1, \"bg-light\", \"p-30\", \"mb-5\"], [1, \"border-bottom\", \"pb-2\"], [1, \"d-flex\", \"justify-content-between\", \"mb-3\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"font-weight-medium\"], [1, \"pt-2\"], [1, \"d-flex\", \"justify-content-between\", \"mt-2\"], [1, \"btn\", \"btn-block\", \"btn-primary\", \"font-weight-bold\", \"my-3\", \"py-3\", 3, \"routerLink\"]],\n  template: function MyCartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtemplate(3, MyCartComponent_button_3_Template, 3, 2, \"button\", 3);\n      i0.ɵɵtemplate(4, MyCartComponent_button_4_Template, 3, 2, \"button\", 3);\n      i0.ɵɵelementStart(5, \"table\", 4)(6, \"thead\", 5)(7, \"tr\")(8, \"th\", 6);\n      i0.ɵɵtext(9, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Remove\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(18, MyCartComponent_tbody_18_Template, 2, 1, \"tbody\", 7);\n      i0.ɵɵtemplate(19, MyCartComponent_tbody_19_Template, 4, 2, \"tbody\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(20, MyCartComponent_div_20_Template, 33, 14, \"div\", 9);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c3, !ctx.cartProduct.length));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartProduct.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.cartProduct.length);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartProduct.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.cartProduct.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartProduct.length);\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i2.RouterLink, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i4.CurrencyPipe],\n  styles: [\".addMore[_ngcontent-%COMP%] {\\n  font-style: italic;\\n  font-size: 20px;\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FydC1kZXRhaWwtcGFnZS9teS1jYXJ0L215LWNhcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSyxrQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBQ0wiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRkTW9yZXtcbiAgICAgZm9udC1zdHlsZTogaXRhbGljOyBcbiAgICAgZm9udC1zaXplOiAyMHB4OyBcbiAgICAgY3Vyc29yOiBwb2ludGVyO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n  changeDetection: 0\n});","map":{"version":3,"mappings":"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","names":["i0","MyCartComponent","constructor","service","router","cdr","toastr","list","localStorage","getItem","favItemLength","JSON","parse","totalFavoriteItems","next","length","Breadcrumb","pageTitle","url","ngOnInit","currencyValue","totalCartItems","currency","subscribe","res","getPrice","markForCheck","getSelectedItem","cartProduct","totalPrice","getCurrencyPrice","setItem","stringify","data","value","currencyPrice","i","totalAmount","price","quantity","removeRow","index","result","confirm","splice","error","navigateByUrl","skipLocationChange","then","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/aman.rathor/Multi-shop/src/app/cart-detail-page/my-cart/my-cart.component.html","/home/aman.rathor/Multi-shop/src/app/cart-detail-page/my-cart/my-cart.component.ts"],"sourcesContent":["<!-- Cart Start -->\n<div class=\"container-fluid\">\n    <div class=\"row px-xl-5\">\n        <div class=\"col-lg-8 table-responsive mb-5\" [ngClass]=\"{'col-lg-12': !cartProduct.length}\">\n             <button class=\"btn btn-success px-3 mb-3\" style=\"float: right;\" [routerLink]=\"['/Shop/shop']\" *ngIf=\"cartProduct.length\">\n                 <i class=\"fas fa-cart-plus mr-1\"></i>\n                 Add More Products\n            </button>\n            <button class=\"btn btn-success px-3 mb-3\" style=\"float: right;\" [routerLink]=\"['/Shop/shop']\" *ngIf=\"!cartProduct.length\">\n                <i class=\"fas fa-cart-plus mr-1\"></i>\n                Add Products\n           </button>\n             <table class=\"table table-light table-borderless table-hover text-center mb-0\">\n                 <thead class=\"thead-dark\">\n                     <tr>\n                         <th colspan=\"2\">Products</th>\n                         <th>Price</th>\n                         <th>Quantity</th>\n                         <th>Total</th>\n                         <th>Remove</th>\n                     </tr>\n                 </thead>\n                 <tbody class=\"align-middle\" *ngIf=\"cartProduct.length\">\n                     <tr *ngFor=\"let item of cartProduct; let i = index\">\n                         <td class=\"align-middle\"><img src=\"http://192.168.1.178:1108{{item.image}}\" alt=\"\" style=\"width: 70px;\"> {{item.name}}</td>\n                         <td class=\"align-middle\">{{item.title}}</td>\n                         <td class=\"align-middle\">{{(item.price *currencyPrice) | currency:currency}}</td>\n                         <td class=\"align-middle\">\n                             <div class=\"align-middle\">{{item.quantity}}</div>\n                         </td>\n                         <td class=\"align-middle\">{{((item.price * item.quantity)*currencyPrice) | currency:currency}}</td>\n                         <td class=\"align-middle\"><button class=\"btn btn-sm btn-danger\" (click)=\"removeRow(i)\"><i class=\"fa fa-times\"></i></button></td>\n                     </tr>\n                 </tbody>\n                 <tbody *ngIf=\"!cartProduct.length\">\n                    <tr>\n                        <th colspan=\"6\" class=\"addMore\" [routerLink]=\"['/Shop/shop/']\">You Haven't Purchase any Cart Right Now...</th>\n                    </tr>\n                 </tbody>\n             </table>\n         </div>\n\n         <div class=\"col-lg-4\" *ngIf=\"cartProduct.length\">\n             <form class=\"mb-30\" action=\"\">\n                 <div class=\"input-group\">\n                     <input type=\"text\" class=\"form-control border-0 p-4\" placeholder=\"Coupon Code\">\n                     <div class=\"input-group-append\">\n                         <button class=\"btn btn-primary\">Apply Coupon</button>\n                     </div>\n                 </div>\n             </form>\n             <h5 class=\"section-title position-relative text-uppercase mb-3\"><span class=\"bg-secondary pr-3\">Cart Summary</span></h5>\n             <div class=\"bg-light p-30 mb-5\">\n                 <div class=\"border-bottom pb-2\">\n                     <div class=\"d-flex justify-content-between mb-3\">\n                         <h6>Subtotal</h6>\n                         <h6>{{totalAmount*currencyPrice | currency:currency}}</h6>\n                     </div>\n                     <div class=\"d-flex justify-content-between\">\n                         <h6 class=\"font-weight-medium\">Shipping</h6>\n                         <h6 class=\"font-weight-medium\">{{taxAmount*currencyPrice | currency:currency}}</h6>\n                     </div>\n                 </div>\n                 <div class=\"pt-2\">\n                     <div class=\"d-flex justify-content-between mt-2\">\n                         <h5>Total</h5>\n                         <h5>{{((totalAmount + taxAmount)*currencyPrice) | currency :currency}}</h5>\n\n                        <!-- if we don't have any cart then it should not show the sum of totalAmount and taxAmount and\n                             if we have any cart then it should show the sum of totalAmount and taxAmount -->\n                        <!-- <h5 *ngIf=\"totalAmount != 0\">{{(totalAmount + taxAmount) | currency}}</h5>\n                             <h5 *ngIf=\"totalAmount == 0\">{{ 0 | currency}}</h5>  -->\n                     </div>\n                     <button class=\"btn btn-block btn-primary font-weight-bold my-3 py-3\" [routerLink]=\"['/cart-detail/checkout']\">Proceed To Checkout</button>\n                 </div>\n             </div>\n         </div>\n     </div>\n </div>\n <!-- Cart End -->\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  OnInit,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-my-cart',\n  templateUrl: './my-cart.component.html',\n  styleUrls: ['./my-cart.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MyCartComponent implements OnInit {\n  selectedIndex: any;\n  totalAmount: number = 0;\n  currency: any;\n  currencyPrice: any;\n  favItemLength: any;\n  taxAmount: any = 10;\n  cartProduct: any[] = [];\n\n  constructor(\n    private service: ProductService,\n    private router: Router,\n    private cdr: ChangeDetectorRef,\n    private toastr: ToastrService\n  ) {\n    let list: any = localStorage.getItem('favoriteItemList');\n    this.favItemLength = JSON.parse(list);\n    this.service.totalFavoriteItems.next(this.favItemLength.length);\n\n    service.Breadcrumb.next([\n      {\n        pageTitle: 'Home',\n        url: '',\n      },\n      {\n        pageTitle: 'Shop',\n        url: 'Shop/shop',\n      },\n      {\n        pageTitle: 'Shopping Cart',\n        url: 'cart-detail/my-cart',\n      },\n    ]);\n\n    \n    \n  }\n\n  ngOnInit(): void {\n    this.currencyValue();\n    \n    this.service.totalCartItems.next(true);\n    this.service.currency.subscribe((res: any) => {\n      if (res) {\n        this.currency = res;\n        this.getPrice();\n        this.cdr.markForCheck();\n      }\n    });  \n    \n    \n    const getSelectedItem: any = localStorage.getItem('addCartItem') || '[]';\n    this.cartProduct = JSON.parse(getSelectedItem);\n    this.service.totalCartItems.next(true);\n    this.totalPrice();\n  }\n\n  currencyValue() {  \n    this.service.getCurrencyPrice().subscribe({\n      next: (res: any) => {\n        localStorage.setItem('currencyPrice', JSON.stringify(res.data));\n      },\n    }); \n  }\n\n  getPrice(){\n    let value:any = localStorage.getItem('currencyPrice');\n    value = JSON.parse(value);\n    this.currencyPrice = value[this.currency];\n  }\n\n  totalPrice() {\n    for (let i = 0; i < this.cartProduct.length; i++) {\n      this.totalAmount +=\n        (this.cartProduct[i].price * this.cartProduct[i].quantity);\n      this.cdr.markForCheck();\n    }\n  }\n\n  removeRow(index: any) {\n    const result = confirm('Do You Want to Remove this Item?');\n    if (result) {\n      if (this.cartProduct.length) {\n        this.cartProduct.splice(index, 1);\n        localStorage.setItem('addCartItem', JSON.stringify(this.cartProduct));\n        this.service.totalCartItems.next(true);\n        this.toastr.error('Item Deleted Successfully!');\n\n        this.router\n          .navigateByUrl('/', { skipLocationChange: true })\n          .then(() => {\n            this.router.navigate(['cart-detail/my-cart']); // navigate to same route\n          });\n        this.cdr.markForCheck();\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}